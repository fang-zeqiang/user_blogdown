<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">

        <title>ç›¸ä¼¼æ€§å’Œè·ç¦»åº¦é‡ (Similarity &amp; Distance Measurement) - Zeqiang Fang | æ–¹æ³½å¼º</title>

    <meta name="referrer" content="no-referrer">
    
    <meta property="og:title" content="ç›¸ä¼¼æ€§å’Œè·ç¦»åº¦é‡ (Similarity &amp; Distance Measurement) - Zeqiang Fang | æ–¹æ³½å¼º">
    <meta name="description" property="og:description" content="ç›¸ä¼¼æ€§åº¦é‡ (Similarity Measurement) ç”¨äºè¡¡é‡ä¸¤ä¸ªå…ƒç´ ä¹‹é—´çš„ç›¸ä¼¼æ€§ç¨‹åº¦æˆ–ä¸¤è€…ä¹‹é—´çš„è·ç¦» (Distance)ã€‚è·ç¦»è¡¡é‡çš„æ˜¯æŒ‡å…ƒç´ ä¹‹é—´çš„ä¸ç›¸ä¼¼æ€§ (Dissimilari">
    <meta property="og:type" content="article">
    <meta property="og:site_name" content="Zeqiang Fang | æ–¹æ³½å¼º">
    <meta property="og:url" content="http://zeqiang.fun/user_blogdown/cn/2019/01/similarity-and-distance-measurement/">

    
    
    
    
    <meta name="author" property="article:author" content="èŒƒå¶äº®">
    
    
    
    <meta name="date" property="article:published_time" content="2019-01-01" scheme="YYYY-MM-DD">
    
    
    <meta name="date" property="article:modified_time" content="2019-01-01" scheme="YYYY-MM-DD">
    

    
    <meta name="keywords" property="article:tag" content ="ç›¸ä¼¼æ€§åº¦é‡,Similarity Measurement,è·ç¦»åº¦é‡,Distance Measurement,æ˜å¯å¤«æ–¯åŸºè·ç¦»,æ˜æ°è·ç¦»,Minkowski Distance,æ¬§å¼è·ç¦»,Euclidean Metric,æ›¼å“ˆé¡¿è·ç¦»,å‡ºç§Ÿè½¦è·ç¦»,Manhattan Distance,åˆ‡æ¯”é›ªå¤«è·ç¦»,Chebyshev Distance,é©¬å“ˆæ‹‰è¯ºæ¯”æ–¯è·ç¦»,é©¬æ°è·ç¦»,Mahalanobis Distance,å‘é‡å†…ç§¯,Inner Product of Vectors,ä½™å¼¦è·ç¦»,Cosine Distance,ä½™å¼¦ç›¸ä¼¼åº¦,Cosine Similarity,ç›¸å…³ç³»æ•°,Correlation,çš®å°”é€Šç›¸å…³ç³»æ•°,Pearson Correlation,Jaccard ç³»æ•°,Dice ç³»æ•°,Tversky ç³»æ•°,ç¼–è¾‘è·ç¦»,Edit Distance,è±æ–‡æ–¯å¦è·ç¦»,Levenshtein Distance,æ±‰æ˜è·ç¦»,Hamming Distance,ç†µ,Entropy,æ¡ä»¶ç†µ,Conditional Entropy,è”åˆç†µ,Joint Entropy,äº’ä¿¡æ¯,Mutual Information,ç›¸å¯¹ç†µ,Relative Entropy,KL æ•£åº¦,Kullback-Leibler Divergence,JS æ•£åº¦,Jensen-Shannon Divergence,æ¨åœŸæœºè·ç¦»,Earth Mover Distance,Wasserstein Distance,DTW è·ç¦»,Dynamic Time Warping Distance,æµå½¢è·ç¦»,Disntace of Manifold">
    
    
    <meta name="theme-color" content="#0d0d0d">
    
    <link rel="icon" type="image/png" sizes="16x16" href="/images/web/favicon-16x16.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/images/web/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="48x48" href="/images/web/favicon-48x48.png">
    <link rel="icon" type="image/png" sizes="62x62" href="/images/web/favicon-62x62.png">
    <link rel="icon" type="image/png" sizes="192x192" href="/images/web/favicon-192x192.png">
    <link rel="apple-touch-icon" size="192x192" href="/images/web/icon-192x192.png">
    <link rel="manifest" href="/manifest.json">
        
    

    

    <script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "http://zeqiang.fun/user_blogdown/cn"
        },
        "name": "ç›¸ä¼¼æ€§å’Œè·ç¦»åº¦é‡ (Similarity \u0026 Distance Measurement)",
        "headline": "ç›¸ä¼¼æ€§å’Œè·ç¦»åº¦é‡ (Similarity \u0026 Distance Measurement)",
        "description" : "ç›¸ä¼¼æ€§åº¦é‡ (Similarity Measurement) ç”¨äºè¡¡é‡ä¸¤ä¸ªå…ƒç´ ä¹‹é—´çš„ç›¸ä¼¼æ€§ç¨‹åº¦æˆ–ä¸¤è€…ä¹‹é—´çš„è·ç¦» (Distance)ã€‚è·ç¦»è¡¡é‡çš„æ˜¯æŒ‡å…ƒç´ ä¹‹é—´çš„ä¸ç›¸ä¼¼æ€§ (Dissimilari",
        "genre": [
            "æœºå™¨å­¦ä¹ "
        ],
        "datePublished": "2019-01-01",
        "dateModified": "2019-01-01",
        "wordCount": "4205",
        "keywords": [
            "ç›¸ä¼¼æ€§åº¦é‡", "Similarity Measurement", "è·ç¦»åº¦é‡", "Distance Measurement", "æ˜å¯å¤«æ–¯åŸºè·ç¦»", "æ˜æ°è·ç¦»", "Minkowski Distance", "æ¬§å¼è·ç¦»", "Euclidean Metric", "æ›¼å“ˆé¡¿è·ç¦»", "å‡ºç§Ÿè½¦è·ç¦»", "Manhattan Distance", "åˆ‡æ¯”é›ªå¤«è·ç¦»", "Chebyshev Distance", "é©¬å“ˆæ‹‰è¯ºæ¯”æ–¯è·ç¦»", "é©¬æ°è·ç¦»", "Mahalanobis Distance", "å‘é‡å†…ç§¯", "Inner Product of Vectors", "ä½™å¼¦è·ç¦»", "Cosine Distance", "ä½™å¼¦ç›¸ä¼¼åº¦", "Cosine Similarity", "ç›¸å…³ç³»æ•°", "Correlation", "çš®å°”é€Šç›¸å…³ç³»æ•°", "Pearson Correlation", "Jaccard ç³»æ•°", "Dice ç³»æ•°", "Tversky ç³»æ•°", "ç¼–è¾‘è·ç¦»", "Edit Distance", "è±æ–‡æ–¯å¦è·ç¦»", "Levenshtein Distance", "æ±‰æ˜è·ç¦»", "Hamming Distance", "ç†µ", "Entropy", "æ¡ä»¶ç†µ", "Conditional Entropy", "è”åˆç†µ", "Joint Entropy", "äº’ä¿¡æ¯", "Mutual Information", "ç›¸å¯¹ç†µ", "Relative Entropy", "KL æ•£åº¦", "Kullback-Leibler Divergence", "JS æ•£åº¦", "Jensen-Shannon Divergence", "æ¨åœŸæœºè·ç¦»", "Earth Mover Distance", "Wasserstein Distance", "DTW è·ç¦»", "Dynamic Time Warping Distance", "æµå½¢è·ç¦»", "Disntace of Manifold"
        ],
        "image": [
            "http://zeqiang.fun/images/cn/2019-01-01-similarity-and-distance-measurement/manhattan-distance.svg", "http://zeqiang.fun/images/cn/2019-01-01-similarity-and-distance-measurement/2D-unit-balls.png", "http://zeqiang.fun/images/cn/2019-01-01-similarity-and-distance-measurement/mahalanobis-distance.png", "http://zeqiang.fun/images/cn/2019-01-01-similarity-and-distance-measurement/correlation-examples.png", "http://zeqiang.fun/images/cn/2019-01-01-similarity-and-distance-measurement/entropy-demo.png", "http://zeqiang.fun/images/cn/2019-01-01-similarity-and-distance-measurement/dtw-threeway.png", "http://zeqiang.fun/images/cn/2019-01-01-similarity-and-distance-measurement/dtw-twoway.png"
        ],
        "author": {
            "@type": "Person",
            "name": "èŒƒå¶äº®"
        },
        "publisher": {
            "@type": "Organization",
            "name": "èŒƒå¶äº®",
            "logo": {
                "@type": "ImageObject",
                "url": "http://zeqiang.fun/images/web/publisher-logo.png"
            }
        },
        "url": "http://zeqiang.fun/user_blogdown/cn/2019/01/similarity-and-distance-measurement/"
    }
    </script>
    

    <script src='//cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js'></script>
<script src='//cdnjs.cloudflare.com/ajax/libs/js-cookie/2.2.1/js.cookie.min.js'></script>

<link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/MaterialDesign-Webfont/6.5.95/css/materialdesignicons.min.css">





<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>


<link rel="stylesheet" type="text/css" href="/user_blogdown/css/fonts.css" />
<link rel="stylesheet" type="text/css" href="/user_blogdown/css/style.css">
<link rel="stylesheet" type="text/css" href="/user_blogdown/css/light.css">
<link rel="stylesheet" type="text/css" href="/user_blogdown/css/dark.css" id="dark-mode-style" disabled="disabled">
<link rel="stylesheet" type="text/css" href="/user_blogdown/css/icons.css">
<link rel="stylesheet" type="text/css" href="/user_blogdown/css/print.css">

  </head>

  
  <body class="user_blogdown">
    <header class="masthead">
      

<div class="logo"></div>
<p class="slogan">ä¼˜é›…æ°¸ä¸è¿‡æ—¶</p>
      <nav class="menu">
  <ul>
  
  
  
    
  
  
    <li><a href="/user_blogdown/">é¦–é¡µ</a></li>
  
    <li><a href="/user_blogdown/cn/">åšå®¢</a></li>
  
    <li><a href="/user_blogdown/cn/about/">å…³äº</a></li>
  
    <li class="menu-separator"><span>&nbsp;</span></li>
  
    <li><a href="/user_blogdown/">Home</a></li>
  
    <li><a href="/user_blogdown/en/">Blog</a></li>
  
    <li><a href="/user_blogdown/en/about/">About</a></li>
  
  


<li class="menu-separator"><span>&nbsp;</span></li>

<li><a href="/cn/index.xml" target="_blank" type="application/rss+xml" title="RSS feed">è®¢é˜…</a></li>

<li><a href="https://github.com/fang-zeqiang/fang-zeqiang.github.io/blob/master/LICENSE" target="_blank" title="Attribution-NonCommercial-ShareAlike 4.0 International">ç‰ˆæƒ</a></li>


  <li class="light-dark-mode no-border-bottom"><a id="light-dark-mode-action"><span id="light-dark-mode-icon" class="mdi mdi-weather-night"></span></a></li>
  </ul>
</nav>

      <script src="/js/toggle-theme.js"></script>
    </header>

    <article class="main">
      <header class="title">
      
<h1>ç›¸ä¼¼æ€§å’Œè·ç¦»åº¦é‡ (Similarity &amp; Distance Measurement)</h1>







<h3>èŒƒå¶äº® / 
2019-01-01</h3>



<h3 class="post-meta">


<strong>åˆ†ç±»: </strong>
<a href="/user_blogdown/categories/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0">æœºå™¨å­¦ä¹ </a>




/




<strong>æ ‡ç­¾: </strong>
<span>ç›¸ä¼¼æ€§åº¦é‡</span>, <span>Similarity Measurement</span>, <span>è·ç¦»åº¦é‡</span>, <span>Distance Measurement</span>, <span>æ˜å¯å¤«æ–¯åŸºè·ç¦»</span>, <span>æ˜æ°è·ç¦»</span>, <span>Minkowski Distance</span>, <span>æ¬§å¼è·ç¦»</span>, <span>Euclidean Metric</span>, <span>æ›¼å“ˆé¡¿è·ç¦»</span>, <span>å‡ºç§Ÿè½¦è·ç¦»</span>, <span>Manhattan Distance</span>, <span>åˆ‡æ¯”é›ªå¤«è·ç¦»</span>, <span>Chebyshev Distance</span>, <span>é©¬å“ˆæ‹‰è¯ºæ¯”æ–¯è·ç¦»</span>, <span>é©¬æ°è·ç¦»</span>, <span>Mahalanobis Distance</span>, <span>å‘é‡å†…ç§¯</span>, <span>Inner Product of Vectors</span>, <span>ä½™å¼¦è·ç¦»</span>, <span>Cosine Distance</span>, <span>ä½™å¼¦ç›¸ä¼¼åº¦</span>, <span>Cosine Similarity</span>, <span>ç›¸å…³ç³»æ•°</span>, <span>Correlation</span>, <span>çš®å°”é€Šç›¸å…³ç³»æ•°</span>, <span>Pearson Correlation</span>, <span>Jaccard ç³»æ•°</span>, <span>Dice ç³»æ•°</span>, <span>Tversky ç³»æ•°</span>, <span>ç¼–è¾‘è·ç¦»</span>, <span>Edit Distance</span>, <span>è±æ–‡æ–¯å¦è·ç¦»</span>, <span>Levenshtein Distance</span>, <span>æ±‰æ˜è·ç¦»</span>, <span>Hamming Distance</span>, <span>ç†µ</span>, <span>Entropy</span>, <span>æ¡ä»¶ç†µ</span>, <span>Conditional Entropy</span>, <span>è”åˆç†µ</span>, <span>Joint Entropy</span>, <span>äº’ä¿¡æ¯</span>, <span>Mutual Information</span>, <span>ç›¸å¯¹ç†µ</span>, <span>Relative Entropy</span>, <span>KL æ•£åº¦</span>, <span>Kullback-Leibler Divergence</span>, <span>JS æ•£åº¦</span>, <span>Jensen-Shannon Divergence</span>, <span>æ¨åœŸæœºè·ç¦»</span>, <span>Earth Mover Distance</span>, <span>Wasserstein Distance</span>, <span>DTW è·ç¦»</span>, <span>Dynamic Time Warping Distance</span>, <span>æµå½¢è·ç¦»</span>, <span>Disntace of Manifold</span>




/


<strong>å­—æ•°: </strong>
4205
</h3>



<hr>


      </header>



<div class="toc-depth-2" ><nav id="TableOfContents">
<ul>
<li>
<ul>
<li><a href="#æ˜å¯å¤«æ–¯åŸºè·ç¦»-æ˜æ°è·ç¦»-minkowski-distance">æ˜å¯å¤«æ–¯åŸºè·ç¦» (æ˜æ°è·ç¦», Minkowski Distance)</a></li>
<li><a href="#é©¬å“ˆæ‹‰è¯ºæ¯”æ–¯è·ç¦»-é©¬æ°è·ç¦»-mahalanobis-distance">é©¬å“ˆæ‹‰è¯ºæ¯”æ–¯è·ç¦» (é©¬æ°è·ç¦», Mahalanobis Distance)</a></li>
<li><a href="#å‘é‡å†…ç§¯-inner-product-of-vectors">å‘é‡å†…ç§¯ (Inner Product of Vectors)</a></li>
<li><a href="#é›†åˆè·ç¦»-distance-of-sets">é›†åˆè·ç¦» (Distance of Sets)</a></li>
<li><a href="#å­—ç¬¦ä¸²è·ç¦»-distance-of-strings">å­—ç¬¦ä¸²è·ç¦» (Distance of Strings)</a></li>
<li><a href="#ä¿¡æ¯è®ºè·ç¦»-information-theory-distance">ä¿¡æ¯è®ºè·ç¦» (Information Theory Distance)</a></li>
<li><a href="#å…¶ä»–è·ç¦»-other-distance">å…¶ä»–è·ç¦» (Other Distance)</a></li>
</ul></li>
</ul>
</nav></div> 




<p>ç›¸ä¼¼æ€§åº¦é‡ (Similarity Measurement) ç”¨äºè¡¡é‡ä¸¤ä¸ªå…ƒç´ ä¹‹é—´çš„ç›¸ä¼¼æ€§ç¨‹åº¦æˆ–ä¸¤è€…ä¹‹é—´çš„è·ç¦» (Distance)ã€‚è·ç¦»è¡¡é‡çš„æ˜¯æŒ‡å…ƒç´ ä¹‹é—´çš„ä¸ç›¸ä¼¼æ€§ (Dissimilarity)ï¼Œé€šå¸¸æƒ…å†µä¸‹æˆ‘ä»¬å¯ä»¥åˆ©ç”¨ä¸€ä¸ªè·ç¦»å‡½æ•°å®šä¹‰é›†åˆ <code>$X$</code> ä¸Šå…ƒç´ é—´çš„è·ç¦»ï¼Œå³ï¼š</p>

<p><code>$$
d: X \times X \to \mathbb{R}
$$</code></p>

<p>åŒæ—¶ï¼Œå¯¹äºé›†åˆ <code>$X$</code> å†…çš„å…ƒç´  <code>$x, y, z$</code>ï¼Œè·ç¦»å‡½æ•°ä¸€èˆ¬æ»¡è¶³å¦‚ä¸‹æ¡ä»¶ï¼š</p>

<ol>
<li><code>$d \left(x, y\right) \geq 0$</code> (éè´Ÿæ€§)</li>
<li><code>$d \left(x, y\right) = 0, \text{å½“ä¸”ä»…å½“} \ x = y$</code> (åŒä¸€æ€§)</li>
<li><code>$d \left(x, y\right) = d \left(y, x\right)$</code> (å¯¹ç§°æ€§)</li>
<li><code>$d \left(x, z\right) \leq d \left(x, y\right) + d \left(y, z\right)$</code> (ä¸‰è§’ä¸ç­‰å¼)</li>
</ol>

<h2 id="æ˜å¯å¤«æ–¯åŸºè·ç¦»-æ˜æ°è·ç¦»-minkowski-distance">æ˜å¯å¤«æ–¯åŸºè·ç¦» (æ˜æ°è·ç¦», Minkowski Distance)</h2>

<p>å¯¹äºç‚¹ <code>$x = \left(x_1, x_2, ..., x_n\right)$</code> å’Œç‚¹ <code>$y = \left(y_1, y_2, ..., y_n\right)$</code>ï¼Œ<code>$p$</code> <strong>é˜¶æ˜å¯å¤«æ–¯åŸºè·ç¦»</strong> å®šä¹‰ä¸ºï¼š</p>

<p><code>$$
d \left(x, y\right) = \left(\sum_{i=1}^{n} |x_i - y_i|^p\right)^{\frac{1}{p}}
$$</code></p>

<p>å½“ <code>$p = 1$</code> æ—¶ï¼Œç§°ä¹‹ä¸º <strong>æ›¼å“ˆé¡¿è·ç¦» (Manhattan Distance)</strong> æˆ– <strong>å‡ºç§Ÿè½¦è·ç¦»</strong>ï¼š</p>

<p><code>$$
d \left(x, y\right) = \sum_{i=1}^{n} |x_i - y_i|
$$</code></p>

<p>å½“ <code>$p = 2$</code> æ—¶ï¼Œç§°ä¹‹ä¸º <strong>æ¬§å¼è·ç¦» (Euclidean Distance)</strong> ï¼š</p>

<p><code>$$
d \left(x, y\right) = \sqrt{\sum_{i=1}^{n} \left(x_i - y_i\right)^2}
$$</code></p>

<p><img src="/images/cn/2019-01-01-similarity-and-distance-measurement/manhattan-distance.svg" alt="Manhattan Distance" /></p>

<p>ä¸Šå›¾ä¸­ <span style="color:#00d100;"><strong>ç»¿è‰²</strong></span> çš„ç›´çº¿ä¸ºä¸¤ç‚¹é—´çš„æ¬§å¼è·ç¦»ï¼Œ<span style="color:#ff0000;"><strong>çº¢è‰²</strong></span> <span style="color:#ffd600;"><strong>é»„è‰²</strong></span> <span style="color:#0000ff;"><strong>è“è‰²</strong></span> çš„æŠ˜çº¿å‡ä¸ºä¸¤ç‚¹é—´çš„æ›¼å“ˆé¡¿è·ç¦»ï¼Œä¸éš¾çœ‹å‡º 3 æ¡æŠ˜çº¿çš„é•¿åº¦æ˜¯ç›¸åŒçš„ã€‚</p>

<p>å½“ <code>$p \to \infty$</code> æ—¶ï¼Œç§°ä¹‹ä¸º <strong>åˆ‡æ¯”é›ªå¤«è·ç¦» (Chebyshev Distance)</strong> ï¼š</p>

<p><code>$$
d \left(x, y\right) = \lim_{p \to \infty} \left(\sum_{i=1}^{n} |x_i - y_i|^p\right)^{\frac{1}{p}} = \max_{i=1}^{n} |x_i - y_i|
$$</code></p>

<p>ä¸‹å›¾å±•ç¤ºäº†ä¸åŒçš„ <code>$p$</code> å€¼ä¸‹å•ä½åœ†ï¼Œå³ <code>$x^p + y^p = 1$</code>ï¼Œä¾¿äºå¤§å®¶ç†è§£ä¸åŒ <code>$p$</code> å€¼ä¸‹çš„æ˜å¯å¤«æ–¯åŸºè·ç¦»ï¼š</p>

<p><img src="/images/cn/2019-01-01-similarity-and-distance-measurement/2D-unit-balls.png" alt="2D Unit Balls" /></p>

<h2 id="é©¬å“ˆæ‹‰è¯ºæ¯”æ–¯è·ç¦»-é©¬æ°è·ç¦»-mahalanobis-distance">é©¬å“ˆæ‹‰è¯ºæ¯”æ–¯è·ç¦» (é©¬æ°è·ç¦», Mahalanobis Distance)</h2>

<p>é©¬å“ˆæ‹‰è¯ºæ¯”æ–¯è·ç¦»è¡¨ç¤ºæ•°æ®çš„ <strong>åæ–¹å·®è·ç¦»</strong>ï¼Œä¸æ¬§å¼è·ç¦»ä¸åŒå…¶è€ƒè™‘åˆ°å„ç§ç‰¹æ€§ä¹‹é—´çš„è”ç³»æ˜¯ <strong>å°ºåº¦æ— å…³ (Scale Invariant)</strong> çš„ã€‚å¯¹äºä¸€ä¸ªåæ–¹å·®çŸ©é˜µä¸º <code>$\sum$</code> çš„å˜é‡ <code>$x$</code> å’Œ <code>$y$</code>ï¼Œé©¬æ°è·ç¦»å®šä¹‰ä¸ºï¼š</p>

<p><code>$$
d \left(x, y\right) = \sqrt{\left(x - y\right)^{\top} {\sum}^{-1} \left(x - y\right)}
$$</code></p>

<p>é©¬æ°è·ç¦»çš„æœ€å¤§ä¼˜åŠ¿å°±æ˜¯å…¶ä¸å—ä¸åŒç»´åº¦ä¹‹é—´é‡çº²çš„å½±å“ï¼ŒåŒæ—¶å¼•å…¥çš„é—®é¢˜ä¾¿æ˜¯æ‰©å¤§äº†å˜åŒ–é‡è¾ƒå°çš„å˜é‡çš„å½±å“ã€‚ä»¥ä¸‹å›¾ä¸ºä¾‹ (æºç è¯¦è§ <a href="https://github.com/leovan/leovan.me/tree/master/scripts/cn/2019-01-01-similarity-and-distance-measurement/mahalanobis-distance.R" rel="noreferrer" target="_blank">è¿™é‡Œ</a>)ï¼š</p>

<p><img src="/images/cn/2019-01-01-similarity-and-distance-measurement/mahalanobis-distance.png" alt="Mahalanobis Distance" /></p>

<p>å·¦ä¾§å›¾ä¸­æ ¹æ®æ¬§å¼è·ç¦»è®¡ç®—ï¼Œ<span style="color:#F07769;"><strong>çº¢è‰²</strong></span> çš„ç‚¹è·ç¦» <span style="color:#34BA27;"><strong>ç»¿è‰²</strong></span> çš„ç‚¹æ›´è¿‘ä¸€äº›ï¼Œå³ä¾§å›¾æ˜¯æ ¹æ®é©¬æ°è·ç¦»è¿›è¡Œåº§æ ‡å˜æ¢åçš„ç¤ºæ„å›¾ï¼Œä¸éš¾çœ‹å‡ºæ­¤æ—¶ <span style="color:#F07769;"><strong>çº¢è‰²</strong></span> çš„ç‚¹è·ç¦» <span style="color:#6C9BFF;"><strong>è“è‰²</strong></span> çš„ç‚¹æ›´è¿‘ä¸€äº›ã€‚</p>

<h2 id="å‘é‡å†…ç§¯-inner-product-of-vectors">å‘é‡å†…ç§¯ (Inner Product of Vectors)</h2>

<p>åœ¨æ¬§å‡ é‡Œå¾—å‡ ä½•ä¸­ï¼Œä¸¤ä¸ªç¬›å¡å°”åæ ‡å‘é‡çš„ç‚¹ç§¯å¸¸ç§°ä¸ºå†…ç§¯ï¼Œå‘é‡å†…ç§¯æ˜¯ä¸¤ä¸ªå‘é‡çš„é•¿åº¦ä¸å®ƒä»¬å¤¹è§’ä½™å¼¦çš„ç§¯ï¼Œå®šä¹‰ä¸ºï¼š</p>

<p><code>$$
x \cdot y = \sum_{i=1}^{n}{x_i y_i}
$$</code></p>

<p>ä»ä»£æ•°è§’åº¦çœ‹ï¼Œå…ˆå¯¹ä¸¤ä¸ªæ•°å­—åºåˆ—ä¸­çš„æ¯ç»„å¯¹åº”å…ƒç´ æ±‚ç§¯ï¼Œå†å¯¹æ‰€æœ‰ç§¯æ±‚å’Œï¼Œç»“æœå³ä¸ºç‚¹ç§¯ã€‚ä»å‡ ä½•è§’åº¦çœ‹ï¼Œç‚¹ç§¯åˆ™æ˜¯ä¸¤ä¸ªå‘é‡çš„é•¿åº¦ä¸å®ƒä»¬å¤¹è§’ä½™å¼¦çš„ç§¯ã€‚åœ¨æ¬§å‡ é‡Œå¾—ç©ºé—´ä¸­ï¼Œç‚¹ç§¯å¯ä»¥ç›´è§‚åœ°å®šä¹‰ä¸ºï¼š</p>

<p><code>$$
x \cdot y = \left| x \right| \left| y \right| \cos \theta
$$</code></p>

<p><strong>ä½™å¼¦ç›¸ä¼¼åº¦ (Cosine Similarity)</strong> å¯ä»¥åˆ©ç”¨ä¸¤ä¸ªå‘é‡å¤¹è§’çš„ cos å€¼å®šä¹‰ï¼Œå³ï¼š</p>

<p><code>$$
s \left(x, y\right) = \cos \left(\theta\right) = \dfrac{x \cdot y}{\left| x \right| \left| y \right|} = \dfrac{\sum_{i=1}^{n}{x_i y_i}}{\sqrt{\sum_{i=1}^{n}{x_i^2}} \sqrt{\sum_{i=1}^{n}{y_i^2}}}
$$</code></p>

<p>ä½™å¼¦ç›¸ä¼¼åº¦çš„å–å€¼èŒƒå›´ä¸ºï¼š<code>$\left[-1, 1\right]$</code>ï¼Œ1 è¡¨ç¤ºä¸¤è€…å®Œå…¨æ­£ç›¸å…³ï¼Œ-1 è¡¨ç¤ºä¸¤è€…å®Œå…¨è´Ÿç›¸å…³ï¼Œ0 è¡¨ç¤ºä¸¤è€…ä¹‹é—´ç‹¬ç«‹ã€‚ä½™å¼¦ç›¸ä¼¼åº¦ä¸å‘é‡çš„é•¿åº¦æ— å…³ï¼Œåªä¸å‘é‡çš„æ–¹å‘æœ‰å…³ï¼Œä½†ä½™å¼¦ç›¸ä¼¼åº¦ä¼šå—åˆ°å‘é‡å¹³ç§»çš„å½±å“ã€‚</p>

<p><strong>çš®å°”é€Šç›¸å…³ç³»æ•° (Pearson Correlation)</strong> è§£å†³äº†ä½™å¼¦ç›¸ä¼¼åº¦ä¼šæ”¶åˆ°å‘é‡å¹³ç§»å½±å“çš„é—®é¢˜ï¼Œå…¶å®šä¹‰ä¸ºï¼š</p>

<p><code>$$
\rho \left(x, y\right) = \dfrac{\text{cov} \left(x, y\right)}{\sigma_x \sigma_y} = \dfrac{E \left[\left(x - \mu_x\right) \left(y - \mu_y\right)\right]}{\sigma_x \sigma_y}
$$</code></p>

<p>å…¶ä¸­ï¼Œ<code>$\text{cov}$</code> è¡¨ç¤ºåæ–¹å·®ï¼Œ<code>$E$</code> è¡¨ç¤ºæœŸæœ›ï¼Œ<code>$\mu$</code> è¡¨ç¤ºå‡å€¼ï¼Œ<code>$\sigma$</code> è¡¨ç¤ºæ ‡å‡†å·®ã€‚å¯¹äºæ ·æœ¬çš„çš®å°”é€Šç›¸å…³ç³»æ•°ï¼Œå¯ä»¥é€šè¿‡å¦‚ä¸‹æ–¹å¼è®¡ç®—ï¼š</p>

<p><code>$$
\begin{equation}
\begin{split}
r &amp;= \dfrac{\sum_{i=1}^{n}{\left(x_i - \bar{x}\right) \left(y_i - \bar{y}\right)}}{\sqrt{\sum_{i=1}^{n}{\left(x_i - \bar{x}\right)^2}} \sqrt{\sum_{i=1}^{n}{\left(y_i - \bar{y}\right)^2}}} \\
&amp;= \dfrac{1}{n-1} \sum_{i=1}^{n}{\left(\dfrac{x_i - \bar{x}}{\sigma_x}\right) \left(\dfrac{y_i - \bar{y}}{\sigma_y}\right)}
\end{split}
\end{equation}
$$</code></p>

<p>çš®å°”é€Šç›¸å…³ç³»æ•°çš„å–å€¼èŒƒå›´ä¸ºï¼š<code>$\left[-1, 1\right]$</code>ï¼Œå€¼çš„å«ä¹‰ä¸ä½™å¼¦ç›¸ä¼¼åº¦ç›¸åŒã€‚çš®å°”é€Šç›¸å…³ç³»æ•°æœ‰ä¸€ä¸ªé‡è¦çš„æ•°å­¦ç‰¹æ€§æ˜¯ï¼šå˜é‡ä½ç½®å’Œå°ºåº¦çš„å˜åŒ–å¹¶ä¸ä¼šå¼•èµ·ç›¸å…³ç³»æ•°çš„æ”¹å˜ã€‚ä¸‹å›¾ç»™å‡ºäº†ä¸åŒçš„ <code>$\left(x, y\right)$</code> ä¹‹é—´çš„çš®å°”é€Šç›¸å…³ç³»æ•°ã€‚</p>

<p><img src="/images/cn/2019-01-01-similarity-and-distance-measurement/correlation-examples.png" alt="Correlation Examples" /></p>

<h2 id="é›†åˆè·ç¦»-distance-of-sets">é›†åˆè·ç¦» (Distance of Sets)</h2>

<p>å¯¹äºä¸¤ä¸ªé›†åˆä¹‹é—´çš„ç›¸ä¼¼æ€§åº¦é‡ï¼Œä¸»è¦æœ‰å¦‚ä¸‹å‡ ç§æ–¹æ³•ï¼š</p>

<ul>
<li><strong>Jaccard ç³»æ•°</strong></li>
</ul>

<p><code>$$
s = \dfrac{\left|X \cap Y\right|}{\left| X \cup Y \right|} = \dfrac{\left|X \cap Y\right|}{\left|X\right| + \left|Y\right| - \left|X \cap Y\right|}
$$</code></p>

<p>Jaccard ç³»æ•°çš„å–å€¼èŒƒå›´ä¸ºï¼š<code>$\left[0, 1\right]$</code>ï¼Œ0 è¡¨ç¤ºä¸¤ä¸ªé›†åˆæ²¡æœ‰é‡åˆï¼Œ1 è¡¨ç¤ºä¸¤ä¸ªé›†åˆå®Œå…¨é‡åˆã€‚</p>

<ul>
<li><strong>Dice ç³»æ•°</strong></li>
</ul>

<p><code>$$
s = \dfrac{2 \left| X \cap Y \right|}{\left|X\right| + \left|Y\right|}
$$</code></p>

<p>ä¸ Jaccard ç³»æ•°ç›¸åŒï¼ŒDice ç³»æ•°çš„å–å€¼èŒƒå›´ä¸ºï¼š<code>$\left[0, 1\right]$</code>ï¼Œä¸¤è€…ä¹‹é—´å¯ä»¥ç›¸äº’è½¬æ¢ <code>$s_d = 2 s_j / \left(1 + s_j\right), s_j = s_d / \left(2 - s_d\right)$</code>ã€‚ä¸åŒäº Jaccard ç³»æ•°ï¼ŒDice ç³»æ•°çš„å·®å¼‚å‡½æ•° <code>$d = 1 - s$</code> å¹¶ä¸æ˜¯ä¸€ä¸ªåˆé€‚çš„è·ç¦»åº¦é‡ï¼Œå› ä¸ºå…¶å¹¶ä¸æ»¡è¶³è·ç¦»å‡½æ•°çš„ä¸‰è§’ä¸ç­‰å¼ã€‚</p>

<ul>
<li><strong>Tversky ç³»æ•°</strong></li>
</ul>

<p><code>$$
s = \dfrac{\left| X \cap Y \right|}{\left| X \cap Y \right| + \alpha \left| X \setminus Y \right| + \beta \left| Y \setminus X \right|}
$$</code></p>

<p>å…¶ä¸­ï¼Œ<code>$X \setminus Y$</code> è¡¨ç¤ºé›†åˆçš„ç›¸å¯¹è¡¥é›†ã€‚Tversky ç³»æ•°å¯ä»¥ç†è§£ä¸º Jaccard ç³»æ•°å’Œ Dice ç³»æ•°çš„ä¸€èˆ¬åŒ–ï¼Œå½“ <code>$\alpha = \beta = 1$</code> æ—¶ä¸º Jaccard ç³»æ•°ï¼Œå½“ <code>$\alpha = \beta = 0.5$</code> æ—¶ä¸º Dice ç³»æ•°ã€‚</p>

<h2 id="å­—ç¬¦ä¸²è·ç¦»-distance-of-strings">å­—ç¬¦ä¸²è·ç¦» (Distance of Strings)</h2>

<p>å¯¹äºä¸¤ä¸ªå­—ç¬¦ä¸²ä¹‹é—´çš„ç›¸ä¼¼æ€§åº¦é‡ï¼Œä¸»è¦æœ‰å¦‚ä¸‹å‡ ç§æ–¹æ³•ï¼š</p>

<ul>
<li><strong>Levenshtein è·ç¦»</strong></li>
</ul>

<p>Levenshtein è·ç¦»æ˜¯ <strong>ç¼–è¾‘è·ç¦» (Editor Distance)</strong> çš„ä¸€ç§ï¼ŒæŒ‡ä¸¤ä¸ªå­—ä¸²ä¹‹é—´ï¼Œç”±ä¸€ä¸ªè½¬æˆå¦ä¸€ä¸ªæ‰€éœ€çš„æœ€å°‘ç¼–è¾‘æ“ä½œæ¬¡æ•°ã€‚å…è®¸çš„ç¼–è¾‘æ“ä½œåŒ…æ‹¬å°†ä¸€ä¸ªå­—ç¬¦æ›¿æ¢æˆå¦ä¸€ä¸ªå­—ç¬¦ï¼Œæ’å…¥ä¸€ä¸ªå­—ç¬¦ï¼Œåˆ é™¤ä¸€ä¸ªå­—ç¬¦ã€‚ä¾‹å¦‚å°† <strong>kitten</strong> è½¬æˆ <strong>sitting</strong>ï¼Œè½¬æ¢è¿‡ç¨‹å¦‚ä¸‹ï¼š</p>

<p><code>$$
\begin{equation*}
\begin{split}
\text{kitten} \to \text{sitten} \left(k \to s\right) \\
\text{sitten} \to \text{sittin} \left(e \to i\right) \\
\text{sittin} \to \text{sitting} \left(\  \to g\right)
\end{split}
\end{equation*}
$$</code></p>

<p>ç¼–è¾‘è·ç¦»çš„æ±‚è§£å¯ä»¥åˆ©ç”¨åŠ¨æ€è§„åˆ’çš„æ€æƒ³ä¼˜åŒ–è®¡ç®—çš„æ—¶é—´å¤æ‚åº¦ã€‚</p>

<ul>
<li><strong>Jaro-Winkler è·ç¦»</strong></li>
</ul>

<p>å¯¹äºç»™å®šçš„ä¸¤ä¸ªå­—ç¬¦ä¸² <code>$s_1$</code> å’Œ <code>$s_2$</code>ï¼ŒJaro ç›¸ä¼¼åº¦å®šä¹‰ä¸ºï¼š</p>

<p><code>$$
sim =
\begin{cases}
0 &amp; \text{if} \  m = 0 \\
\dfrac{1}{3} \left(\dfrac{m}{\left|s_1\right|} + \dfrac{m}{\left|s_2\right|} + \dfrac{m-t}{m}\right) &amp; \text{otherwise}
\end{cases}
$$</code></p>

<p>å…¶ä¸­ï¼Œ<code>$\left|s_i\right|$</code> ä¸ºå­—ç¬¦ä¸² <code>$s_i$</code> çš„é•¿åº¦ï¼Œ<code>$m$</code> ä¸ºåŒ¹é…çš„å­—ç¬¦çš„ä¸ªæ•°ï¼Œ<code>$t$</code> æ¢ä½æ•°ç›®çš„ä¸€åŠã€‚å¦‚æœå­—ç¬¦ä¸² <code>$s_1$</code> å’Œ <code>$s_2$</code> ç›¸å·®ä¸è¶…è¿‡ <code>$\lfloor \dfrac{\max \left(\left|s_1\right|, \left|s_2\right|\right)}{2} \rfloor - 1$</code>ï¼Œæˆ‘ä»¬åˆ™è®¤ä¸ºä¸¤ä¸ªå­—ç¬¦ä¸²æ˜¯åŒ¹é…çš„ã€‚ä¾‹å¦‚ï¼Œå¯¹äºå­—ç¬¦ä¸² <strong>CRATE</strong> å’Œ <strong>TRACE</strong>ï¼Œä»… <strong>R, A, E</strong> ä¸‰ä¸ªå­—ç¬¦æ˜¯åŒ¹é…çš„ï¼Œå› æ­¤ <code>$m = 3$</code>ï¼Œå°½ç®¡ <strong>C, T</strong> å‡å‡ºç°åœ¨ä¸¤ä¸ªå­—ç¬¦ä¸²ä¸­ï¼Œä½†æ˜¯ä»–ä»¬çš„è·ç¦»è¶…è¿‡äº† 1 (å³ï¼Œ<code>$\lfloor \dfrac{5}{2} \rfloor - 1$</code>)ï¼Œå› æ­¤ <code>$t = 0$</code>ã€‚</p>

<p>Jaro-Winkler ç›¸ä¼¼åº¦ç»™äºˆäº†èµ·å§‹éƒ¨åˆ†ç›¸åŒçš„å­—ç¬¦ä¸²æ›´é«˜çš„åˆ†æ•°ï¼Œå…¶å®šä¹‰ä¸ºï¼š</p>

<p><code>$$
sim_w = sim_j + l p \left(1 - sim_j\right)
$$</code></p>

<p>å…¶ä¸­ï¼Œ<code>$sim_j$</code> ä¸ºå­—ç¬¦ä¸² <code>$s_1$</code> å’Œ <code>$s_2$</code> çš„ Jaro ç›¸ä¼¼åº¦ï¼Œ<code>$l$</code> ä¸ºå…±åŒå‰ç¼€çš„é•¿åº¦ (è§„å®šä¸è¶…è¿‡ <code>$4$</code>)ï¼Œ<code>$p$</code> ä¸ºè°ƒæ•´ç³»æ•° (è§„å®šä¸è¶…è¿‡ <code>$0.25$</code>)ï¼ŒWinkler å°†å…¶è®¾ç½®ä¸º <code>$p = 0.1$</code>ã€‚</p>

<ul>
<li><strong>æ±‰æ˜è·ç¦»</strong></li>
</ul>

<p>æ±‰æ˜è·ç¦»ä¸ºä¸¤ä¸ª<strong>ç­‰é•¿å­—ç¬¦ä¸²</strong>å¯¹åº”ä½ç½®çš„ä¸åŒå­—ç¬¦çš„ä¸ªæ•°ï¼Œä¹Ÿå°±æ˜¯å°†ä¸€ä¸ªå­—ç¬¦ä¸²å˜æ¢æˆå¦å¤–ä¸€ä¸ªå­—ç¬¦ä¸²æ‰€éœ€è¦<strong>æ›¿æ¢</strong>çš„å­—ç¬¦ä¸ªæ•°ã€‚ä¾‹å¦‚ï¼š<strong>10<span style="color:#0000ff;">1</span>1<span style="color:#0000ff;">1</span>01</strong> ä¸ <strong>10<span style="color:#ff0000;">0</span>1<span style="color:#ff0000;">0</span>01</strong> ä¹‹é—´çš„æ±‰æ˜è·ç¦»æ˜¯ 2ï¼Œ<strong>â€œ<span style="color:#0000ff;">t</span>o<span style="color:#0000ff;">n</span>e<span style="color:#0000ff;">d</span>â€</strong> ä¸ <strong>â€œ<span style="color:#ff0000;">r</span>o<span style="color:#ff0000;">s</span>e<span style="color:#ff0000;">s</span>â€</strong> ä¹‹é—´çš„æ±‰æ˜è·ç¦»æ˜¯ 3ã€‚</p>

<h2 id="ä¿¡æ¯è®ºè·ç¦»-information-theory-distance">ä¿¡æ¯è®ºè·ç¦» (Information Theory Distance)</h2>

<p>é¦–å…ˆæˆ‘ä»¬éœ€è¦ç†è§£ä»€ä¹ˆæ˜¯ <strong>ç†µ (Entropy)</strong>ï¼Ÿç†µæœ€æ—©æ˜¯ç”¨æ¥è¡¨ç¤ºç‰©ç†å­¦ä¸­ä¸€ä¸ªçƒ­åŠ›ç³»ç»Ÿæ— åºçš„ç¨‹åº¦ï¼Œåæ¥ä¾æ®é¦™å†œçš„ä¿¡æ¯è®ºï¼Œç†µç”¨æ¥è¡¡é‡ä¸€ä¸ªéšæœºå˜é‡çš„ä¸ç¡®å®šæ€§ç¨‹åº¦ã€‚å¯¹äºä¸€ä¸ªéšæœºå˜é‡ <code>$X$</code>ï¼Œå…¶æ¦‚ç‡åˆ†å¸ƒä¸ºï¼š</p>

<p><code>$$
P \left(X = x_i\right) = p_i, \quad i = 1, 2, ..., n
$$</code></p>

<p>åˆ™éšæœºå˜é‡ <code>$X$</code> çš„ç†µå®šä¹‰å¦‚ä¸‹ï¼š</p>

<p><code>$$
H \left(X\right) = - \sum_{i=1}^{n} P \left(x_i\right) \log P \left(x_i\right) \label{eq:entropy}
$$</code></p>

<p>ä¾‹å¦‚æŠ›ä¸€æšç¡¬å¸ï¼Œå‡è®¾ç¡¬å¸æ­£é¢å‘ä¸Š <code>$X = 1$</code> çš„æ¦‚ç‡ä¸º <code>$p$</code>ï¼Œç¡¬å¸åé¢å‘ä¸Š <code>$X = 0$</code> çš„æ¦‚ç‡ä¸º <code>$1 - p$</code>ã€‚åˆ™å¯¹äºæŠ›ä¸€æšç¡¬å¸é‚£ä¸ªé¢æœä¸Šè¿™ä¸ªéšæœºå˜é‡ <code>$X$</code> çš„ç†µä¸ºï¼š</p>

<p><code>$$
H \left(X\right) = - p \log p - \left(1-p\right) \log \left(1-p\right)
$$</code></p>

<p>éšæ¦‚ç‡ <code>$p$</code> å˜åŒ–å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>

<p><img src="/images/cn/2019-01-01-similarity-and-distance-measurement/entropy-demo.png" alt="Entropy Demo" /></p>

<p>ä»å›¾å¯ä»¥çœ‹å‡ºï¼Œå½“ <code>$p = 0.5$</code> æ—¶ç†µæœ€å¤§ï¼Œä¹Ÿå°±æ˜¯è¯´æŠ›ä¸€æšç¡¬å¸ï¼Œå½“æ­£åä¸¤é¢æœä¸Šçš„æ¦‚ç‡ç›¸åŒæ—¶ï¼Œç†µæœ€å¤§ï¼Œç³»ç»Ÿæœ€å¤æ‚ã€‚å¯¹äºå…¬å¼ <code>$\ref{eq:entropy}$</code>ï¼Œå½“å–ä»¥ 2 ä¸ºåº•çš„å¯¹æ•°æ—¶ï¼Œç†µçš„å•ä½ä¸ºæ¯”ç‰¹ (bit)ï¼Œå½“å–è‡ªç„¶å¯¹æ•°æ—¶ï¼Œç†µçš„å•ä½ä¸ºçº³ç‰¹ (nat)ï¼Œå½“å–ä»¥ 10 ä¸ºåº•çš„å¯¹æ•°æ—¶ï¼Œç†µçš„å•ä½ä¸ºå“ˆç‰¹ (hart)ã€‚</p>

<p>å¯¹äºéšæœºå˜é‡ <code>$\left(X, Y\right)$</code>ï¼Œå…¶è”åˆæ¦‚ç‡åˆ†å¸ƒä¸ºï¼š</p>

<p><code>$$
P \left(X = x_i, Y = y_i\right) = p_{i, j}, \quad i = 1,2,...,n; \quad j = 1,2,...,m
$$</code></p>

<p><strong>æ¡ä»¶ç†µ (Conditional Entropy)</strong> è¡¨ç¤ºåœ¨å·²çŸ¥ <code>$X$</code> çš„æ¡ä»¶ä¸‹ <code>$Y$</code> çš„ä¸ç¡®å®šæ€§ï¼Œå®šä¹‰ä¸ºï¼š</p>

<p><code>$$
\begin{equation}
\begin{split}
H \left(Y | X\right) &amp;= \sum_{i=i}^{n} P \left(x_i\right) H \left(Y | X = x_i\right) \\
&amp;= \sum_{i=1}^{n}{\sum_{j=1}^{m}{P \left(x_i, y_j\right) \log \dfrac{P \left(x_i\right)}{P \left(x_i, y_j\right)}}}
\end{split}
\end{equation}
$$</code></p>

<p><strong>è”åˆç†µ (Joint Entropy)</strong> ç”¨äºè¡¡é‡å¤šä¸ªéšæœºå˜é‡çš„éšæœºç³»ç»Ÿçš„ä¿¡æ¯é‡ï¼Œå®šä¹‰ä¸ºï¼š</p>

<p><code>$$
H \left(X, Y\right) = \sum_{i=1}^{n}{\sum_{j=1}^{m}{P \left(x_i, y_j\right) \log P \left(x_i, y_j\right)}}
$$</code></p>

<ul>
<li><strong>äº’ä¿¡æ¯ (Mutual Information)</strong></li>
</ul>

<p>äº’ä¿¡æ¯ç”¨äºè¡¡é‡ä¸¤ä¸ªå˜é‡ä¹‹é—´çš„å…³è”ç¨‹åº¦ï¼Œå®šä¹‰ä¸ºï¼š</p>

<p><code>$$
I \left(X; Y\right) = \sum_{i=1}^{n}{\sum_{j=1}^{m}{P \left(x_i, y_j\right) \log \dfrac{P \left(x_i, y_i\right)}{P \left(x_i\right) P \left(y_j\right)}}}
$$</code></p>

<p>ç›´è§‚ä¸Šï¼Œäº’ä¿¡æ¯åº¦é‡ <code>$X$</code> å’Œ <code>$Y$</code> å…±äº«çš„ä¿¡æ¯ï¼Œå®ƒåº¦é‡çŸ¥é“è¿™ä¸¤ä¸ªå˜é‡å…¶ä¸­ä¸€ä¸ªï¼Œå¯¹å¦ä¸€ä¸ªä¸ç¡®å®šåº¦å‡å°‘çš„ç¨‹åº¦ã€‚</p>

<ul>
<li><strong>ç›¸å¯¹ç†µ (Relative Entropy)</strong></li>
</ul>

<p>ç›¸å¯¹ç†µåˆç§°ä¹‹ä¸º <strong>KL æ•£åº¦ (Kullback-Leibler Divergence)</strong>ï¼Œç”¨äºè¡¡é‡ä¸¤ä¸ªåˆ†å¸ƒä¹‹é—´çš„å·®å¼‚ï¼Œå®šä¹‰ä¸ºï¼š</p>

<p><code>$$
D_{KL} \left(P \| Q\right) = \sum_{i}{P \left(i\right) \ln \dfrac{P \left(i\right)}{Q \left(i\right)}}
$$</code></p>

<p>KL æ•£åº¦ä¸ºéè´Ÿæ•° <code>$D_{KL} \left(P \| Q\right) \geq 0$</code>ï¼ŒåŒæ—¶å…¶ä¸å…·æœ‰å¯¹ç§°æ€§ <code>$D_{KL} \left(P \| Q\right) \neq D_{KL} \left(Q \| P\right)$</code>ï¼Œä¹Ÿä¸æ»¡è¶³è·ç¦»å‡½æ•°çš„ä¸‰è§’ä¸ç­‰å¼ã€‚</p>

<ul>
<li><strong>äº¤å‰ç†µ (Corss Entropy)</strong></li>
</ul>

<p>äº¤å‰ç†µå®šä¹‰ä¸ºï¼š</p>

<p><code>$$
\begin{equation}
\begin{split}
H \left(P, Q\right) &amp;= H \left(P\right) + D_{KL} \left(P \| Q\right) \\
&amp;= - \sum_{i}{P \left(i\right) \log Q \left(i\right)}
\end{split}
\end{equation}
$$</code></p>

<p>äº¤å‰ç†µå¸¸ä½œä¸ºæœºå™¨å­¦ä¹ ä¸­çš„æŸå¤±å‡½æ•°ï¼Œç”¨äºè¡¡é‡æ¨¡å‹åˆ†å¸ƒå’Œè®­ç»ƒæ•°æ®åˆ†å¸ƒä¹‹é—´çš„å·®å¼‚æ€§ã€‚</p>

<ul>
<li><strong>JS æ•£åº¦ (Jensen-Shannon Divergence)</strong></li>
</ul>

<p>JS æ•£åº¦è§£å†³äº† KL æ•£åº¦ä¸å¯¹ç§°çš„é—®é¢˜ï¼Œå®šä¹‰ä¸ºï¼š</p>

<p><code>$$
D_{JS} \left(P \| Q\right) = \dfrac{1}{2} D_{KL} \left(P \| \dfrac{P + Q}{2}\right) + \dfrac{1}{2} D_{KL} \left(Q \| \dfrac{P + Q}{2}\right)
$$</code></p>

<p>å½“å–ä»¥ 2 ä¸ºåº•çš„å¯¹æ•°æ—¶ï¼ŒJS æ•£åº¦çš„å–å€¼èŒƒå›´ä¸ºï¼š<code>$\left[0, 1\right]$</code>ã€‚</p>

<ul>
<li><strong>æ¨åœŸæœºè·ç¦» (Earth Mover Distance, Wasserstein Distance)</strong></li>
</ul>

<p>æ¨åœŸæœºè·ç¦»ç”¨äºæè¿°ä¸¤ä¸ªå¤šç»´åˆ†å¸ƒä¹‹é—´ç›¸ä¼¼æ€§ï¼Œä¹‹æ‰€ä»¥ç§°ä¸ºæ¨åœŸæœºè·ç¦»æ˜¯å› ä¸ºæˆ‘ä»¬å°†åˆ†å¸ƒçœ‹åšç©ºé—´ä¸­çš„æ³¥åœŸï¼Œä¸¤ä¸ªåˆ†å¸ƒä¹‹é—´çš„è·ç¦»åˆ™æ˜¯é€šè¿‡æ³¥åœŸçš„æ¬è¿å°†ä¸€ä¸ªåˆ†å¸ƒæ”¹å˜åˆ°å¦ä¸€ä¸ªåˆ†å¸ƒæ‰€æ¶ˆè€—çš„æœ€å°èƒ½é‡ (å³è¿é€è·ç¦»å’Œè¿é€é‡é‡çš„ä¹˜ç§¯)ã€‚</p>

<p>å¯¹äºç»™å®šçš„åˆ†å¸ƒ <code>$P = \left\{\left(p_1, w_{p1}\right), \left(p_2, w_{p2}\right), \cdots, \left(p_m, w_{pm}\right)\right\}$</code> å’Œ <code>$Q = \left\{\left(q_1, w_{q1}\right), \left(q_2, w_{q2}\right), \cdots, \left(q_n, w_{qn}\right)\right\}$</code>ï¼Œå®šä¹‰ä» <code>$p_i$</code> åˆ° <code>$q_j$</code> ä¹‹é—´çš„è·ç¦»ä¸º <code>$d_{i, j}$</code>ï¼Œæ‰€éœ€è¿é€çš„é‡é‡ä¸º <code>$f_{i, j}$</code>ã€‚å¯¹äº <code>$f_{i, j}$</code> æœ‰å¦‚ä¸‹ 4 ä¸ªçº¦æŸï¼š</p>

<ol>
<li>è¿é€éœ€ä» <code>$p_i$</code> åˆ° <code>$q_j$</code>ï¼Œä¸èƒ½åå‘ï¼Œå³ <code>$f_{i, j} \geq 0, 1 \leq i \leq m, 1 \leq j \leq n$</code>ã€‚</li>
<li>ä» <code>$p_i$</code> è¿é€å‡ºçš„æ€»é‡é‡ä¸è¶…è¿‡åŸå§‹çš„æ€»é‡é‡ <code>$w_{pi}$</code>ï¼Œå³ <code>$\sum_{j=1}^{n}{f_{i, j}} \leq w_{pi}, 1 \leq i \leq m$</code>ã€‚</li>
<li>è¿é€åˆ° <code>$q_j$</code> çš„æ€»é‡é‡ä¸è¶…è¿‡å…¶æ€»å®¹é‡ <code>$w_{qj}$</code>ï¼Œå³ <code>$\sum_{i=1}^{m}{f_{i, j}} \leq w_{qj}, 1 \leq j \leq n$</code>ã€‚</li>
<li><code>$\sum_{i=1}^{m}{\sum_{j=1}^{n}{f_{i, j}}} = \min \left\{\sum_{i=1}^{m}{w_{pi}}, \sum_{j=1}^{n}{w_{qj}}\right\}$</code>ã€‚</li>
</ol>

<p>åœ¨æ­¤çº¦æŸä¸‹ï¼Œé€šè¿‡æœ€å°åŒ–æŸå¤±å‡½æ•°ï¼š</p>

<p><code>$$
\min \sum_{i=1}^{m}{\sum_{j=1}^{n}{d_{i, j} f_{i, j}}}
$$</code></p>

<p>å¾—åˆ°æœ€ä¼˜è§£ <code>$f_{i, j}^*$</code>ï¼Œåˆ™æ¨åœŸæœºè·ç¦»å®šä¹‰ä¸ºï¼š</p>

<p><code>$$
D_{W} \left(P, Q\right) = \dfrac{\sum_{i=1}^{m}{\sum_{j=1}^{n}{d_{i, j} f_{i, j}^*}}}{\sum_{i=1}^{m}{\sum_{j=1}^{n}{f_{i, j}^*}}}
$$</code></p>

<h2 id="å…¶ä»–è·ç¦»-other-distance">å…¶ä»–è·ç¦» (Other Distance)</h2>

<ul>
<li><strong>DTW (Dynamic Time Warping) è·ç¦»</strong></li>
</ul>

<p>DTW è·ç¦»ç”¨äºè¡¡é‡ä¸¤ä¸ªåºåˆ—ä¹‹é—´çš„ç›¸ä¼¼æ€§ï¼Œåºåˆ—çš„é•¿åº¦å¯èƒ½ç›¸ç­‰ä¹Ÿå¯èƒ½ä¸ç›¸ç­‰ã€‚å¯¹äºä¸¤ä¸ªç»™å®šçš„åºåˆ— <code>$X = \left(x_1, x_2, \cdots, x_m\right)$</code> å’Œ <code>$Y = \left(y_1, y_2, \cdots, y_n\right)$</code>ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨åŠ¨æ€è§„åˆ’çš„æ–¹æ³•æ±‚è§£ DTW è·ç¦»ã€‚é¦–å…ˆæˆ‘ä»¬æ„é€ ä¸€ä¸ª <code>$m \times n$</code> çš„çŸ©é˜µï¼ŒçŸ©é˜µä¸­çš„å…ƒç´  <code>$d_{i, j}$</code> è¡¨ç¤º <code>$x_i$</code> å’Œ <code>$y_j$</code> ä¹‹é—´çš„è·ç¦»ã€‚æˆ‘ä»¬éœ€è¦æ‰¾åˆ°ä¸€æ¡é€šè¿‡è¯¥çŸ©é˜µçš„è·¯å¾„ <code>$W = \left(w_1, w_2, \cdots, w_l\right)$</code>, <code>$\max\left(m, n\right) \leq l &lt; m + n + 1$</code>ï¼Œå‡è®¾ <code>$w_k$</code> å¯¹åº”çš„çŸ©é˜µå…ƒç´ ä¸º <code>$\left(i, j\right)$</code>ï¼Œå¯¹åº”çš„è·ç¦»ä¸º <code>$d_k$</code>ï¼Œåˆ™ DTW çš„ä¼˜åŒ–ç›®æ ‡ä¸º <code>$\min \sum_{k=1}^{l}{d_k}$</code>ã€‚å¦‚ä¸‹å›¾å³ä¸Šè§’éƒ¨åˆ†æ‰€ç¤ºï¼š</p>

<p><img src="/images/cn/2019-01-01-similarity-and-distance-measurement/dtw-threeway.png" alt="DTW Three-Way" /></p>

<p>å¯¹äºè·¯å¾„ <code>$W$</code>ï¼Œéœ€è¦æ»¡è¶³å¦‚ä¸‹ 3 ä¸ªæ¡ä»¶ï¼š</p>

<ol>
<li><strong>è¾¹ç•Œæ¡ä»¶</strong>ï¼š<code>$w_1 = \left(1, 1\right), w_k = \left(m, n\right)$</code>ï¼Œå³è·¯å¾„é¡»ä»å·¦ä¸‹è§’å‡ºå‘ï¼Œåœ¨å³ä¸Šè§’ç»ˆæ­¢ã€‚</li>
<li><strong>è¿ç»­æ€§</strong>ï¼šå¯¹äº <code>$w_{l-1} = \left(i', j'\right), w_l = \left(i, j\right)$</code>ï¼Œéœ€æ»¡è¶³ <code>$i - i' \leq 1, j - j' \leq 1$</code>ï¼Œå³è·¯å¾„ä¸èƒ½è·¨è¿‡ä»»ä½•ä¸€ç‚¹è¿›è¡ŒåŒ¹é…ã€‚</li>
<li><strong>å•è°ƒæ€§</strong>ï¼šå¯¹äº <code>$w_{l-1} = \left(i', j'\right), w_l = \left(i, j\right)$</code>ï¼Œéœ€æ»¡è¶³ <code>$0 \leq i - i', 0 \leq j - j'$</code>ï¼Œå³è·¯å¾„ä¸Šçš„ç‚¹éœ€å•è°ƒé€’å¢ï¼Œä¸èƒ½å›é€€è¿›è¡ŒåŒ¹é…ã€‚</li>
</ol>

<p>åˆ©ç”¨åŠ¨æ€è§„åˆ’æ±‚è§£ DTW çš„çŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¸ºï¼š</p>

<p><code>$$
dtw_{i, j} =
\begin{cases}
0 &amp; \text{if} \  i = j = 0 \\
\infty &amp; \text{if} \  i = 0 \  \text{or} \  j = 0 \\
d_{i, j} + \min \left(dtw_{i-1, j}, dtw_{i-1, j-1}, dtw_{i, j-1}\right) &amp; \text{otherwise}
\end{cases}
$$</code></p>

<p><code>$dtw_{m, n}$</code> åˆ™ä¸ºæœ€ç»ˆçš„ DTW è·ç¦»ã€‚åœ¨ DTW æ±‚è§£çš„è¿‡ç¨‹ä¸­è¿˜å¯ä»¥ä½¿ç”¨ä¸åŒçš„ Local Warping Step å’Œçª—å£ç±»å‹ï¼Œæ›´å¤šè¯¦ç»†ä¿¡æ¯å¯çœ‹è§ R ä¸­ <a href="https://cran.r-project.org/web/packages/dtw/index.html" rel="noreferrer" target="_blank">dtw åŒ…</a>ã€‚ä¸‹å›¾å±•ç¤ºäº†åˆ©ç”¨ DTW æ±‚è§£åä¸åŒç‚¹ä¹‹é—´çš„å¯¹åº”å…³ç³»ï¼š</p>

<p><img src="/images/cn/2019-01-01-similarity-and-distance-measurement/dtw-twoway.png" alt="DTW Two-Way" /></p>

<ul>
<li><strong>æµå½¢è·ç¦» (Distance of Manifold)</strong></li>
</ul>

<p>å…³äºæµå½¢è·ç¦»è¯·å‚è§ä¹‹å‰çš„åšå®¢ï¼š<a href="/cn/2018/03/manifold-learning">æµå½¢å­¦ä¹  (Manifold Learning)</a>ã€‚</p>

<h2>ğŸ‰ğŸ‰ğŸ‰ Happe New Year! ğŸ‰ğŸ‰ğŸ‰</h2>



<link rel="stylesheet" href="/css/donate.css" />


<div class="donate">
  <div class="donate-header"></div>
  <div class="donate-slug" id="donate-slug">similarity-and-distance-measurement</div>
  <button class="donate-button">èµ èµ</button>
  <div class="donate-footer">ã€ŒçœŸè¯šèµèµï¼Œæ‰‹ç•™ä½™é¦™ã€</div>
</div>
<div class="donate-modal-wrapper">
  <div class="donate-modal">
    <div class="donate-box">
      <div class="donate-box-content">
        <div class="donate-box-content-inner">
          <div class="donate-box-header">ã€ŒçœŸè¯šèµèµï¼Œæ‰‹ç•™ä½™é¦™ã€</div>
          <div class="donate-box-body">
            <div class="donate-box-money">
              <button class="donate-box-money-button donate-box-money-button-unchecked" id="donate-box-money-button-2" data-v="2" data-unchecked="ï¿¥ 2" data-checked="2 å…ƒ">ï¿¥ 2</button>
              <button class="donate-box-money-button donate-box-money-button-unchecked" id="donate-box-money-button-5" data-v="5" data-unchecked="ï¿¥ 5" data-checked="5 å…ƒ">ï¿¥ 5</button>
              <button class="donate-box-money-button donate-box-money-button-unchecked" id="donate-box-money-button-10" data-v="10" data-unchecked="ï¿¥ 10" data-checked="10 å…ƒ">ï¿¥ 10</button>
              <button class="donate-box-money-button donate-box-money-button-unchecked" id="donate-box-money-button-50" data-v="50" data-unchecked="ï¿¥ 50" data-checked="50 å…ƒ">ï¿¥ 50</button>
              <button class="donate-box-money-button donate-box-money-button-unchecked" id="donate-box-money-button-100" data-v="100" data-unchecked="ï¿¥ 100" data-checked="100 å…ƒ">ï¿¥ 100</button>
              <button class="donate-box-money-button donate-box-money-button-unchecked" id="donate-box-money-button-custom" data-v="custom" data-unchecked="ä»»æ„é‡‘é¢" data-checked="ä»»æ„é‡‘é¢">ä»»æ„é‡‘é¢</button>
            </div>
            <div class="donate-box-pay">
              <img class="donate-box-pay-qrcode" id="donate-box-pay-qrcode" src=""/>
            </div>
          </div>
          <div class="donate-box-footer">
            <div class="donate-box-pay-method donate-box-pay-method-checked" data-v="wechat-pay">
              <img class="donate-box-pay-method-image" id="donate-box-pay-method-image-wechat-pay" src=""/>
            </div>
            <div class="donate-box-pay-method" data-v="alipay">
              <img class="donate-box-pay-method-image"  id="donate-box-pay-method-image-alipay" src=""/>
            </div>
          </div>
        </div>
      </div>
    </div>
    <button type="button" class="donate-box-close-button">
      <svg class="donate-box-close-button-icon" fill="#fff" viewBox="0 0 24 24" width="24" height="24"><path d="M13.486 12l5.208-5.207a1.048 1.048 0 0 0-.006-1.483 1.046 1.046 0 0 0-1.482-.005L12 10.514 6.793 5.305a1.048 1.048 0 0 0-1.483.005 1.046 1.046 0 0 0-.005 1.483L10.514 12l-5.208 5.207a1.048 1.048 0 0 0 .006 1.483 1.046 1.046 0 0 0 1.482.005L12 13.486l5.207 5.208a1.048 1.048 0 0 0 1.483-.006 1.046 1.046 0 0 0 .005-1.482L13.486 12z" fill-rule="evenodd"></path></svg>
    </button>
  </div>
</div>

<script type="text/javascript" src="/js/donate.js"></script>
</script>


  <footer>
  
<nav class="post-nav">
  <span class="nav-prev">&larr; <a href="/user_blogdown/cn/2018/12/ensemble-learning/">é›†æˆå­¦ä¹ ç®—æ³• (Ensemble Learning)</a></span>
  <span class="nav-next"><a href="/user_blogdown/cn/2019/02/how-to-read-a-book/">å¦‚ä½•é˜…è¯»ä¸€æœ¬ä¹¦ (How to Read a Book)</a> &rarr;</span>
</nav>
<script type="text/javascript">
document.addEventListener('keyup', function(e) {
  if (e.target.nodeName.toUpperCase() != 'BODY') return;
  var url = false;
  if (e.which == 37) {  
    
    url = '\/user_blogdown\/cn\/2018\/12\/ensemble-learning\/';
    
  } else if (e.which == 39) {  
    
    url = '\/user_blogdown\/cn\/2019\/02\/how-to-read-a-book\/';
    
  }
  if (url) window.location = url;
});
</script>




<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-2608165017777396"
     data-ad-slot="1261604535"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>





<section class="comments">
  <div id="disqus_thread"></div>
  <script>
  var disqus_config = function () {
  
    this.page.url = "https:\/\/zeqiang.fun" + location.pathname;
  
  };
  (function() {
    var inIFrame = function() {
      var iframe = true;
      try { iframe = window.self !== window.top; } catch (e) {}
      return iframe;
    };
    if (inIFrame()) return;
    var disqus_js = '//Zeqiang.disqus.com/embed.js';
    var d = document, s = d.createElement('script');
    s.src = disqus_js; s.async = true;
    s.setAttribute('data-timestamp', +new Date());
    var t = d.getElementById('disqus_thread');
    var b = false, l = function(scroll) {
      if (b) return;
      (d.head || d.body).appendChild(s); b = true;
      if (scroll) t.scrollIntoView();
    }
    s.onerror = function(e) {
      if (sessionStorage.getItem('failure-note')) return;
      t.innerText = 'Sorry, but you cannot make comments because Disqus failed to load for some reason. It is known to be blocked in China. If you are sure it is not blocked in your region, please refresh the page. ä¸­å›½å¤§é™†åœ°åŒºè¯»è€…éœ€è¦ç¿»å¢™æ‰èƒ½å‘è¡¨è¯„è®ºã€‚';
      sessionStorage.setItem('failure-note', true);
    };
    
    if (location.hash.match(/^#comment-[0-9]+$/)) return l(true);
    var c = function() {
      if (b) return;
      var rect = t.getBoundingClientRect();
      if (rect.top < window.innerHeight && rect.bottom >= 0) l();
    };
    window.addEventListener('load', c);
    d.addEventListener('scroll', c);
  })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</section>




<script async src="/js/fix-toc.js"></script>
<script async src="/js/center-img.js"></script>
<script async src="/js/right-quote.js"></script>
<script async src="/js/fix-footnote.js"></script>
<script async src="/js/external-link.js"></script>
<script async src="/js/alt-title.js"></script>
<script src="/js/no-highlight.js"></script>
<script src="/js/math-code.js"></script>


<script>
window.MathJax = {
  loader: {
    load: ['[tex]/boldsymbol']
  },
  tex: {
    tags: "all",
    inlineMath: [['$','$'], ['\\(','\\)']],
    displayMath: [['$$','$$']],
    processEscapes: true,
    processEnvironments: true,
    packages: {
      '[+]': ['boldsymbol']
    }
  }
};
</script>
<script type="text/javascript" id="MathJax-script" async src="//cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.0/es5/tex-chtml.js" crossorigin></script>







<script async src="/js/load-typekit.js"></script>

<script src="//cdnjs.cloudflare.com/ajax/libs/lazysizes/5.3.2/lazysizes.min.js"></script>

<script src="//cdn.jsdelivr.net/npm/vanilla-back-to-top@latest/dist/vanilla-back-to-top.min.js"></script>
<script>
addBackToTop({
  diameter: 48
})
</script>



  <hr>
  <div class="copyright no-border-bottom">
    <div class="copyright-author-year">
      <span>&copy; 2017-2021 Leo Van</span>
    </div>
    <div class="copyright-links">
      <a href="https://github.com/leovan" rel="noreferrer" target="_blank">Github</a>
      <span> Â· </span>
      <a href="https://orcid.org/0000-0002-9556-7821" rel="noreferrer" target="_blank">ORCID</a>
      <span> Â· </span>
      <span>I am Mr. Black.</span>
    </div>
  </div>
  </footer>
  </article>
  </body>
</html>

